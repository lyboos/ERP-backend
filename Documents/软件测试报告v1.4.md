# 1. 灯具开关企业ERP系统软件测试报告v1.0

<!-- TOC -->

- [1.灯具开关企业ERP系统软件测试报告v1.0](#1-灯具开关企业ERP系统软件测试报告v10)
- [2. 引言](#2-引言)
  - [2.1. 范围](#21-范围)
  - [2.2. 参考资料](#22-参考资料)
- [3. 详细情况](#3-详细情况)
  - [3.1. 总测试结果概述](#31-总测试结果概述)
  - [3.2. 单元测试层次的测试](#32-单元测试层次的测试)
    - [3.2.1. 测试活动总结](#321-测试活动总结)
    - [3.2.2. 测试任务的结果总结](#322-测试任务的结果总结)
    - [3.2.3. 缺陷和辨析总结](#323-缺陷和辨析总结)
    - [3.2.4. 评估产品质量](#324-评估产品质量)
  - [3.3. 集成/系统测试层次的测试](#33-集成系统测试层次的测试)
    - [3.3.1. 测试活动总结](#331-测试活动总结)
    - [3.3.2. 测试任务的结果总结](#332-测试任务的结果总结)
    - [3.3.3. 评估产品质量](#333-评估产品质量)
  - [3.4. 功能测试层次的测试](#34-功能测试层次的测试)
    - [3.4.1. 测试活动总结](#341-测试活动总结)
    - [3.4.2. 测试任务的结果总结](#342-测试任务的结果总结)
    - [3.4.3. 缺陷和辨析总结](#343-缺陷和辨析总结)
    - [3.4.4. 评估产品质量](#344-评估产品质量)
  - [3.5. 决策理由](#35-决策理由)
  - [3.6. 总结与建议](#36-总结与建议)
    - [3.6.1. 产品的总体性评价](#361-产品的总体性评价)
    - [3.6.2. 产品要投入生产使用应该具备的状态和环境](#362-产品要投入生产使用应该具备的状态和环境)
    - [3.6.3. 产品验收的总结和建议](#363-产品验收的总结和建议)
    - [3.6.4. 本产品学习到的经验](#364-本产品学习到的经验)
    - [3.6.5. 后续的缺陷处理过程](#365-后续的缺陷处理过程)
- [4. 其他](#4-其他)
  - [4.1. 术语表](#41-术语表)
  - [4.2. 文档修改历史](#42-文档修改历史)

<!-- /TOC -->

# 2. 引言

## 2.1. 范围
1. 灯具开关企业ERP系统软件测试报告主要记录了通过Junit单元测试，Mock页面测试完成的对于灯具开关企业ERP系统的软件测试工作。
2. 本报告参考灯具开关企业ERP系统软件体系结构文档 v1.0 与灯具开关企业ERP系统软件详细设计描述文档 v1.0 中关于软件体系结构和详细设计的描述，分层次完成本系统的软件测试

## 2.2. 参考资料
1. IEEE标准
2. 灯具开关企业ERP系统用例描述文档V1.0
3. 灯具开关企业ERP系统软件需求规格说明文档V1.0
4. 灯具开关企业ERP系统体系结构文档v1.0
5. 灯具开关企业ERP系统详细设计描述文档v1.0

# 3. 详细情况

## 3.1. 总测试结果概述
针对我们团队的灯具开关企业ERP系统，我们分别通过单元测试、集成测试和Web测试进行了测试，并且修复了在测试中发现的Bug。在我们的假设和依赖的基础上，我们的系统具有较好的可靠性和可用性，可以有力地保证事件按照我们的既定步骤和流程完成。

## 3.2. 单元测试层次的测试

### 3.2.1. 测试活动总结
测试了后台直接和数据库对接的接口，包括CheckIn、Customer、Payment、Sale、SaleReturns、StaffService、Warehouse等多个模块，所列测试用例全部通过，后台与数据库对接的接口相对稳定，无明显缺陷。

### 3.2.2. 测试任务的结果总结
| 测试用例ID                    | 条件                         | 期望结果                                                     | 测试结果 | 测试对象ID             |
| ----------------------------- | ---------------------------- | ------------------------------------------------------------ | -------- | ---------------------- |
| checkIn_1                     | 无                           | 成功打卡，返回1                                              | 成功     | CheckInMapper          |
| checkIn_2                     | 无                           | 打卡失败，返回0                                              | 成功     | CheckInMapper          |
| findAllByDate_1               | 系统中已经有两条打卡记录     | 查找给定日期的所有打卡记录，返回记录                         | 成功     | CheckInMapper          |
| findAllByDate_2               | 无                           | 查找给定日期的所有打卡记录，由于没有记录所以返回null         | 成功     | CheckInMapper          |
| insertCustomer_1              | 无                           | 用来证明可用性                                               | 成功     | CustomerMapper         |
| insertCustomer_2              | 无                           | 用来证明可用性                                               | 成功     | CustomerMapper         |
| insertCustomer_3              | 无                           | 用来证明可用性，返回1                                        | 成功     | CustomerMapper         |
| deleteCustomer_1              | 已存在用户                   | 成功删除已存在用户，返回1                                    | 成功     | CustomerMapper         |
| deleteCustomer_2              | 已存在用户                   | 成功删除已存在用户，返回1                                    | 成功     | CustomerMapper         |
| deleteCustomer_3              | 不存在该用户                 | 无法删除不存在用户，返回0                                    | 成功     | CustomerMapper         |
| insertCustomer_Test1          | 无                           | 证明如果添加id相同的客户会返回0                              | 成功     | CustomerMapper         |
| insertCustomer_Test2          | 无                           | 证明如果完全相同的客户会返回0                                | 成功     | CustomerMapper         |
| insertCustomer_Test3          | 无                           | 证明如果添加id相同的客户会返回0                              | 成功     | CustomerMapper         |
| getSheetByState_1             | 有对应状态的表单             | 查找到相应状态的付款单                                       | 成功     | PaymentMapper          |
| getSheetByState_2             | 无                           | 查找不到该状态表单                                           | 成功     | PaymentMapper          |
| getSheetById_1                | 无                           | 查找对应id表，查到，返回                                     | 成功     | PaymentMapper          |
| getSheetById_2                | 无                           | 查找不到                                                     | 成功     | PaymentMapper          |
| getSheetById_3                | 无                           | 查找不到                                                     | 成功     | PaymentMapper          |
| getSheetById_4                | 无                           | 查找对应id表，查到，返回                                     | 成功     | PaymentMapper          |
| approval_1                    | 无                           | 审批测试1                                                    | 成功     | PaymentMapper          |
| approval_2                    | 无                           | 审批测试2                                                    | 成功     | PaymentMapper          |
| warehouseServiceTest          | 无                           | 测试库存服务生成是否为空                                     | 成功     | SaleContentSheetMapper |
| approval_exceptions_1         | 无                           | 一级审批不能直接到审批完成 (提示：可以以抛出异常的方式终止流程，这样就能触发事务回滚) | 成功     | SaleContentSheetMapper |
| approval_exceptions_2         | 无                           | 二级审批不能回到一级审批                                     | 成功     | SaleContentSheetMapper |
| approval_failed               | 无                           | 审批失败                            | 成功     | SaleContentSheetMapper |
| approval_1                    | 无                           | 测试一级审批                                                 | 成功     | SaleContentSheetMapper |
| approval_2                    | 无                           | 测试二级审批                                                 | 成功     |SaleContentSheetMapper|
| updateBaseSalary_1 | 需要预先存入数据 | 更新基础工资 | 成功 |StaffMapper|
| updateLevel_1 | 需要预先存入数据 | 更新级别 | 成功 |StaffMapper|
| updatePaymentCalStrategy_1 | 需要预先存入数据 | 更新薪资计算策略 | 成功 |StaffMapper|
| updatePaymentScheduleStrategy_1 | 需要预先存入数据 | 更新薪资发放策略 | 成功 |StaffMapper|
| getStaffByName_1 | 需要预先存入数据 | 根据姓名获取员工信息 | 成功 |StaffMapper|

注：因为表单操作大致相同，所以只展示部分表单单元测试，会尽可能覆盖表单功能

### 3.2.3. 缺陷和辨析总结

在目前的设计基础上，结合目前已经完成的单元测试，并没有发现和预期不同的缺陷。

### 3.2.4. 评估产品质量
我们根据四个文档，进行了上述单元测试，所有用例全部通过，产品可以满足所有的数据需求，后台与数据库对接非常成功。

## 3.3. 集成/系统测试层次的测试

### 3.3.1. 测试活动总结
测试了前端直接和后端对接的接口，以及服务间的协作，所有测试用例全部通过，前端与后端对接的接口相对稳定，前端所给数据经过后端处理均准确，无明显缺陷。

### 3.3.2. 测试任务的结果总结
| 测试用例ID                    | 条件                                               | 期望结果                                         | 测试结果 | 测试对象ID          |
| ----------------------------- | -------------------------------------------------- | ------------------------------------------------ | -------- | ------------------- |
| makeSaleReturnsSheet          | 需要数据库配合完成（存在预定义数据） | 检查能否生成需要的销售退货单，涉及到库存、销售模块的配合，能够直观反映各模块之间的配合情况 | 成功     | SaleReturnsService |
| getSaleReturnsSheetByState    | 需要数据库配合完成（存在预定义数据） | 测试按照状态获取销售退货单及其content是否成功 | 成功     | SaleReturnsService |
| makeSaleSheet | 需要数据库配合完成（存在预定义数据） | 检查能否生成需要的销售，涉及到库存、销售模块的配合，能够直观反映各模块之间的配合情况 | 成功 | saleService |
| getSaleSheetByState | 需要数据库配合完成（存在预定义数据） | 测试按照状态获取销售单及其content是否成功 | 成功 | saleService |
| makeSheet_1                   | 无                           | 制表成功                                                     | 成功     | PaymentService         |
| makeSheet_2                   | 已经有完全相同的一个表单记录 | 制表失败                                                     | 成功     | PaymentService         |

注：因为表单操作大致相同，所以只展示部分集成测试，会尽可能覆盖表单功能

### 3.3.3. 评估产品质量

我们根据四个文档，进行了上述测试，用例全部通过，前端与后端对接非常成功。



## 3.4. 功能测试层次的测试

### 3.4.1. 测试活动总结

对整个系统进行了黑盒测试，以键鼠操作为输入，以路由、组件渲染、显示数据等作为输出，对系统的预期功能进行测试。

### 3.4.2. 测试任务的结果总结

| 测试用例ID         | 条件                         | 期望结果                                               | 测试结果 | 测试对象ID   |
| ------------------ | ---------------------------- | ------------------------------------------------------ | -------- | ------------ |
| 生成工资单         | 前端输入姓名、应发工资等信息 | 数据库中成功生成储存对应信息的工资单                   | 成功     | 工资单模块   |
| 工资单审批         | 操作者权限可以审批工资单     | 成功完成审批操作                                       | 成功     | 工资单模块   |
| 根据姓名查看工资单 | 前端输入姓名                 | 成功显示工资单                                         | 成功     | 工资单模块   |
| 员工打卡           | 无                           | 数据库中以（姓名，打卡日期）主键方式来实现记录打卡数据 | 成功     | 日常打卡模块 |
| 查询员工打卡情况   | 输入查询日期                 | 成功返回该日期打卡员工表                               | 成功     | 人力资源模块 |
| 员工入职           | 注册账号                     | 成功完成入职、账号注册                                 | 成功     | 人力资源模块 |

注：应用相同组件的功能只测试一次，因为表单操作大致相同，所以只展示部分测试，会尽可能覆盖所有功能

### 3.4.3. 缺陷和辨析总结
在目前的设计基础上，结合目前已经完成的单元测试，并没有发现和预期不同的缺陷。

### 3.4.4. 评估产品质量
我们根据四个文档，进行了上述功能测试，用例全部通过，产品可以满足所有的功能需求。

## 3.5. 决策理由
1. 结合如上的总测试结果，我们对软件做出“通过”的决定，原因描述:
   + 本软件通过了单元测试、集成/系统测试和Web测试三轮测试，模块覆盖率达100%，并且发现极少数的bug进行了及时的处理，最终本软件质量达到标准，并满足所有需求。

## 3.6. 总结与建议

### 3.6.1. 产品的总体性评价
根据我们的用例文档、需求规格说明文档、体系结构设计文档和详细设计文档，我们从单元测试、集成/系统测试和Web功能测试三个角度对我们的软件进行了测试。我们根据每次的测试结果，修复测试过程中发现的缺陷。最终，我们的软件成功通过我们设计的所有的测试，能够按照我们预期正确的运行。

### 3.6.2. 产品要投入生产使用应该具备的状态和环境
1. 产品能够投入生产使用应该具备的状态:通过本测试文档中三部分测试层次的所有测试。
2. 产品能够投入生产使用应该具备的环境:
   1. 操作系统:Windows10
   2. 其他环境:Java 15、MySQL 、Vue2.0+SpringBoot+MyBatis

### 3.6.3. 产品验收的总结和建议
1. 通过我们的三层次的测试，可以验证产品按照预期完成了所有的测试，并且达到了前期设计中的指标，予以验收。
2. 建议：在后续开展过程中，可以针对部分复杂逻辑进行优化，对于部分可以接受但是可以进行优化的代码进行调整。

### 3.6.4. 本产品学习到的经验
1. 时刻注意文档、功能和代码的一致性
2. 争取使用测试驱动开发，每次修改代码能够自动测试
3. 遇到技术问题可以先查文档和原理，之后在具体解决
4. 在开发过程中关注产品在真实运行的机器上的运行状况
5. 尽量完整完善的配置好项目的配置文件
6. 在需求开发阶段一定要尽量多的考虑到所有的情况。
7. 在高层设计的阶段一定要充分考虑到未来需求变更带来的问题。
8. 严格按照低耦合高内聚的要求完成开发
9. 尽可能面向接口编程

### 3.6.5. 后续的缺陷处理过程
1. 我们针对测试中发现的缺陷，通过断点调试等手段完成对BUG的修复，从而保证软件按照我们的预期运行。

# 4. 其他

## 4.1. 术语表
| 词汇名称 | 词汇含义                                              | 备注                                    |
| :------: | ----------------------------------------------------- | --------------------------------------- |
|   ERP    | 企业资源计划即 *ERP* (Ent*erp*rise Resource Planning) | 由美国 Gartner Group 公司于1990年提出。 |

## 4.2. 文档修改历史

| 修改人员 | 日期           | 修改原因                                    | 版本号 |
| :------: | -------------- | ------------------------------------------- | ------ |
|  胡国栋  | 2022年07月03日 | 添加功能测试报告,制定单元层次、集成测试用例 | v1.0   |
|  胡国栋  | 2022年07月03日 | 完善单元层次测试报告                        | v1.1   |
|  林浩然  | 2022年07月04日 | 完善集成/系统层次测试报告                   | v1.2   |
|   刘洋   | 2022年07月06日 | 完成功能层次测试报告                        | v1.3   |
|  岑思远  | 2022年07月09日 | 最后检查                                    | v1.4   |

